{% extends "base.html" %}

{% block title %}{{ texts.portfolio }} - {{ texts.name }}{% endblock %}

{% block content %}
<section class="portfolio-section">
    <div class="portfolio-header">
        <h1>{{ texts.portfolioTitle }}</h1>
        <p>{{ texts.portfolioIntro }}</p>
    </div>

    <div class="portfolio-grid">
        {% for project in projects %}
        <div class="portfolio-item"
             onclick="openModal(this)"
             data-type="{{ project.type or 'project' }}"
             data-title="{{ project.title }}"
             data-desc="{{ project.description or project.desc }}"
             data-tags='{{ project.tags | tojson if project.tags else "[]" }}'
             data-github="{{ project.github_link or '' }}"
             data-demo="{{ project.demo_link or '' }}"
             data-url="{{ project.url or '' }}"
             data-btn="{{ project.custom_btn or texts.viewDetails }}"
             data-subprojects='{{ project.sub_projects | tojson if project.sub_projects else "[]" }}'>

            <div class="portfolio-item-content">
                <h3>
                    {% if project.type == 'folder' %}
                    <i class="fas fa-folder-open" style="color: #00d9ff; margin-right: 5px;"></i>
                    {% endif %}
                    {{ project.title }}
                </h3>

                <p>{{ project.description or project.desc }}</p>

                {% if project.tags %}
                <div class="tech-tags" style="margin-top: 15px; margin-bottom: 10px;">
                    {% for tag in project.tags %}
                    <span class="project-tag">{{ tag }}</span>
                    {% endfor %}
                </div>
                {% endif %}

                <div style="margin-top: auto; color: #00d9ff; font-size: 0.9rem; font-weight: bold;">
                    <i class="fas fa-info-circle"></i>
                    {{ project.custom_btn or texts.viewDetails }}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<div id="projectModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>

        <h2 id="modalTitle">Project Title</h2>

        <div id="modalTech" class="modal-tech-container"></div>

        <p id="modalDesc">Project description...</p>

        <div id="modalSubProjects" class="kaggle-list"></div>

        <div class="modal-actions">
            <a id="modalGithub" href="#" target="_blank" class="btn-modal">
                <i class="fab fa-github"></i> GitHub
            </a>
            <a id="modalDemo" href="#" target="_blank" class="btn-modal">
                <i class="fas fa-external-link-alt"></i> Live Demo
            </a>
            <a id="modalProfile" href="#" target="_blank" class="btn-modal" style="display: none;">
                <i class="fas fa-user-circle"></i> <span id="modalProfileText">Profili Gor</span>
            </a>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/modal.js') }}"></script>

{% endblock %}